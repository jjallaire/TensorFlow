<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Use a session with a random seed — use_session_with_seed • tensorflow</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tensorflow</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/tensorflow">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Use a session with a random seed</h1>
    </div>

    
    <p>Set various random seeds required to ensure reproducible results. The
provided <code>seed</code> value will establish a new random seed for R, Python, NumPy,
and TensorFlow. GPU computations and CPU parallelism will also be disabled by
default.</p>
    

    <pre class="usage"><span class='fu'>use_session_with_seed</span>(<span class='no'>seed</span>, <span class='kw'>disable_gpu</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>disable_parallel_cpu</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>seed</th>
      <td><p>A single value, interpreted as an integer</p></td>
    </tr>
    <tr>
      <th>disable_gpu</th>
      <td><p><code>TRUE</code> to disable GPU execution (see <em>Parallelism</em> below).</p></td>
    </tr>
    <tr>
      <th>disable_parallel_cpu</th>
      <td><p><code>TRUE</code> to disable CPU parallelism (see
<em>Parallelism</em> below).</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p><code>TRUE</code> to suppress printing of messages.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>TensorFlow session object, invisibly</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function must be called at the very top of your script (i.e.
immediately after <code>library(tensorflow)</code>, <code>library(keras)</code>, etc.). Any
existing TensorFlow session is torn down via <code>tf$reset_default_graph()</code>.</p>
<p>This function takes all measures known to promote reproducible results from
TensorFlow sessions, however it's possible that various individual
TensorFlow features or dependent libraries escape its effects. If you
encounter non-reproducible results please investigate the possible sources
of the problem, contributions via pull request are very welcome!</p>
<p>Packages which need to be notified before and after the seed is set
can register for the "tensorflow.on_before_use_session" and
"tensorflow.on_use_session" hooks (see <code>setHook()</code>) for additional
details on hooks).</p>
    
    <h2 class="hasAnchor" id="parallelism"><a class="anchor" href="#parallelism"></a>Parallelism</h2>

    <p>By default the <code>use_session_with_seed()</code> function
disables GPU and CPU parallelism, since both can result in
non-determinisitc execution patterns (see
<a href='https://stackoverflow.com/questions/42022950/'>https://stackoverflow.com/questions/42022950/</a>). You can optionally enable
GPU or CPU parallelism by setting the <code>disable_gpu</code> and/or
<code>disable_parallel_cpu</code> parameters to <code>FALSE</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>library</span>(<span class='no'>tensorflow</span>)
<span class='fu'>use_session_with_seed</span>(<span class='fl'>42</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#parallelism">Parallelism</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by JJ Allaire,  RStudio, Yuan Tang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
